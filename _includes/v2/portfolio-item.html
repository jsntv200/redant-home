<!-- content flip slug style subtitle title url -->
{% assign project = site.pages | where: "slug", include.slug | first %}
{% assign image-desktop = project.images | where: "type", "desktop" | first %}
{% assign image-mobile = project.images | where: "type", "mobile" | first %}

<div class="w-full relative mb-[50px] md:mb-[100px] {{ include.style }}">
  <div class="absolute flex justify-center h-full w-full -z-10">
    <div
      class="absolute inset-0 -z-10 bg-{{ include.slug }}-100/[0.25] mx-auto w-3/4 bg-opaque"
      aria-hidden="true">
    </div>
  </div>

  <div class="preview flex flex-col md:flex-row md:py-24">
    <div class="w-full lg:w-1/2 relative {% if include.flip %}md:order-2{% endif %}">
      <div class="h-full flex flex-col justify-center">
        {% if image-desktop %}
          <div class="md:pl-10">
            <div class="rounded-md bg-gray-50 w-full h-[350px] lg:h-[700px] overflow-hidden">
              <div class="flex justify-center p-2">
                <div class="absolute flex left-2 md:left-12">
                  <div class="rounded-full mt-1 mr-2 h-3 w-3 bg-white"></div>
                  <div class="rounded-full mt-1 mr-2 h-3 w-3 bg-white"></div>
                  <div class="rounded-full mt-1 mr-2 h-3 w-3 bg-white"></div>
                </div>
                <div class="rounded-md h-5 w-36 md:w-44 lg:w-80 bg-white flex justify-center items-center"></div>
              </div>
              <div class="relative flex align-middle">
                <img
                  class="absolute object-cover"
                  src="{{ image-desktop.path }}"
                  alt="{{ include.title }} desktop layout">
              </div>
            </div>
          </div>
        {% endif %}

        {% if image-mobile %}
        <div class="rounded-md bg-gray-50 w-1/3 h-[280px] lg:h-[480px] overflow-hidden hidden md:flex md:flex-col absolute top-36 lg:top-24 drop-shadow-2xl z-10">
          <div class="p-2">
            <div class="rounded-md h-5 w-full bg-white"></div>
          </div>
          <div class="relative">
            <img
              class="object-cover"
              src="{{ image-mobile.path }}"
              alt="{{ include.title }} mobile layout">
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="w-full lg:w-1/2 relative">
      <div class="py-14 lg:py-0 {% if include.flip %}md:pr-8{% else %}md:pl-8{% endif %} h-full flex flex-col justify-center">
        <h3 class="mb-3 text-2xl md:text-4xl font-bold text-managed-100 text">
          {{ include.title }}
        </h3>
        <hr class="bg-white/40 h-[2px] mt-8 mb-6">
        <h5 class="mb-2 text-xl font-bold">
          {{ include.subtitle }}
        </h5>
        <p class="text-lg mt-5 mb-8 text-gray-100">
          {{ include.content }}
        </p>
        <div>
          <a
            class="rounded-md px-3.5 py-3 text-sm font-semibold text-white button"
            href="{{ include.url }}">
            More details
          </a>
        </div>
      </div>
    </div>
  </div>
</div>